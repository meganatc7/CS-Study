# 10 가상메모리 관리

- 가상 메모리
  - Non-continuous allocation => 사용자 프로그램을block으로 분할하여 적재/실행
  - Paging/Segmentation system
- 가상 메모리 관리 목적
  - 가상 메모리 시스템 성능 최적화(성능 => 모호하기 때문에 표현할 수 있는 지표가 필요하다.)
    - Cost model(=> 성능) 을 최소화 시키는 다양한 최적화 기법





### Cost Model

- **Page fault**

  - frequency(발생빈도)
  - rate(발생률) 
  - => 최소화 할 수 있도록 전략 설계 필요
    - Context switch 및 kernel 개입 최소화해야 한다.

  

- **Page reference string**(d)
  - 페이지 참조 문자열
  - 프로세스 수행 중 참조한 페이지 번호 순서를 기록해놓는다.
    - why? 어떤 페이지를 참조했는지를 알아야 효율적으로 사용하고 있는지 알 수 있기 때문. (평가 기준)
- **Page fault rate** = F(w) = Page fault 수 /  Page reference string 수





가상 메모리를 사용하기 위한 여러가지 컴포넌트, 장치들이 있다.

## Hardware Components

- **Address translation device(**주소 변환 장치)
  - 주소 변환을 **효율적으로** 수행하기 위해 사용한다. (ex) TLB
- **Bit Vectors**
  - page 사용 상황에 대한 정보를 기록하는 비트들이다.
  - Reference bits(used bit) => 참조 비트
    - 메모리에 적재된 각각의 page가 최근에 참조되었는지를 표시한다. (0 or 1)
    - 특정 시점마다 모든 참조 비트를 0으로 만들고, 그 사이에 참조된 페이지 프레임들의 참조 비트는 1로 설정한다.
  - Update bits(dirty bits) => 갱신 비트
    - page가 메모리에 적재된 후, 프로세스에 의해 수정되었는지를 표시한다.
    - 메모리에서 데이터가 빠질 때, swap device에 담긴 데이터와 값이 달라져있기 때문에 표시해주어야 한다. (Write-back to swap device이 필요하다.)
    - 주기적 초기화가 없다. => 메모리에서 나올 때 초기화된다.