# 🍕 02 스케줄러

## 🍟 스케줄링이란?

- 프로세스가 생성되어 실행될 때 시스템의 여러 자원을 해당 프로세스에게 할당하는 작업

- 대기 시간은 최소화 하고, 최대한 공평하게 처리하는 것이 목적이다.

- 메모리에 여러개의 프로세스를 올려놓고, CPU 가동시간을 적절하게 나눠서(시분할) 각각 프로세스에게 분배하여 실행되도록 한다.



### 🍟 프로세스 상태

프로세스는 아래 5가지 상태 중 하나를 가진다.

- 생성(create): 프로세스가 생성되는 중인 상태
- 실행(running): 프로세스가 프로세서(CPU)를 차지하여 명령어들이 실행되고 있는 상태

- 준비(ready): 프로세스가 프로세서를 사용하고 있지는 않지만, 언제든지 사용할 수 있는 상태
- 대기(waiting): 프로세스가 입출력 완료, 시그널 수신 등 어떤 사건을 기다리고 있는 상태
- 종료(terminated): 프로세스의 실행이 종료된 상태



프로세스를 스케줄링하기 위한 Queue에는 3 가지 종류가 있다.

- Job Queue: 현재 시스템 내에 있는 모든 프로세스 집합
- Ready Queue: 현재 메모리 내에 있으면서, CPU를 잡아서 실행되기를 기다리는 프로세스 집합
- Device Queue: Device I/O 작업을 대기하고 있는 프로세스의 집합



각각의 Queue에 프로세스들을 넣고 빼주는 스케줄러도 크게 3 가지 종류가 있다.



#### 🍟 1. 장기스케줄러(Long-term scheduler or job scheduler)

- 메모리는 한정되어 있는데, 많은 프로세스들이 한꺼번에 메모리에 올라올 경우 대용량 메모리(디스크)에 임시로 저장된다. 
- 저장된 프로세스들 중 어떤 프로세스에 메모리를 할당하여 ready queue로 보낼지를 결정하는 역할을 한다.

- 메모리와 디스크 사이의 스케줄링을 담당한다.
- 프로세스에 메모리 및 각종 리소스를 할당한다.
- degree of Multiprogramming (수행중인 프로세스의 수) 제어한다.
- 프로세스의 상태는 new -> ready로 변한다. (ready: in memory)
- 수행빈도가 적고 느리다.



#### 🍟 2. 단기스케줄러(Short-term scheduler or CPU scheduler)

- CPU와 메모리 사이의 스케줄링을 담당한다.
- 프로세서 스케줄링, 하위 스케줄링이라고도 한다.
- Ready Queue에 존재하는 프로세스 중 어떤 프로세스를 running 시킬지 결정한다.
- 프로세스에 CPU를 할당한다. (scheduler dispatch)
- 프로세스의 상태는 ready -> running -> waiting -> ready 순으로 변한다.
- 자주 수행되고 빠르다.



#### 🍟 3. 중기스케줄러(Medium-term scheduler or Swapper)

- 여유 공간 마련을 위해서 프로세스 통째로 메모리 -> 디스크로 쫓아낸다. (swapping)
- 프로세스로부터 메모리 할당을 해제한다.
- degree of Multiprogramming (수행중인 프로세스의 수) 제어한다.
- 프로세스의 상태는 ready -> suspended로 변한다.
  - suspended(=stopped): 외부적인 이유로 프로세스의 수행이 정지된 상태로 메모리에서 내려간 상태
  - 프로세스 전부 디스크로 swap out 된다.
  - 스스로 ready state로 돌아갈 수 없다.

















