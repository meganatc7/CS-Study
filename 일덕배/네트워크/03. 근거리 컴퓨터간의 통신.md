# 🤔 근거리 컴퓨터간의 통신



## 🧐 2계층(데이터 링크 계층)에서 하는일



### 1. 2계층의 기능

 하나의 네트워크 대역 즉, 같은 네트워크 상에 존재하는 여러 장비들 중에서 어떤 장비가 어떤 장비에게 보내는 데이터를 전달하는 기능을 수행한다.

![image](https://user-images.githubusercontent.com/70757883/126794398-519b5f38-c79b-4ef2-a6f7-7d3ed8576bb5.png)



### 2. 2계층의 네트워크 크기

하나의 네트워크 대역 LAN에서만 통신을 할 때 사용한다

다른 네트워크와 통신할 때는 항상 3계층의 개입이 필요하다.

3계층의 주소와 3계층의 프로토콜을 이용해야만 다른 네트워크와 통신이 가능해진다.







## 🧐 2계층에서 사용하는 주소



### 1. MAC주소

물리적인 주소로 MAC주소를 사용한다.

![image](https://user-images.githubusercontent.com/70757883/126794696-6cf253e8-9c49-4639-8d58-3c245599e366.png)

물리적 주소는 12개의 16진수로 이루어져 있는데,

앞의 6개 16진수는 OUI라고해서 MAC주소를 부여한 회사의 고유번호이다.

뒤으 16진수는 해당 제조사에서 부여한 고유번호이다.



### 2. 2계층의 프로토콜(Ethernet프로토콜)

![image](https://user-images.githubusercontent.com/70757883/126794861-c22ee842-1b23-4d17-88a4-612943fde6d0.png)

위 그림에서 DATA는 이더넷 입장에서 payload이다.

빨갛게 표시된 부분이 중요한 부분이며 (1줄당 4바이트이다.)



**✨Destination Address**는 6바이트(1줄반)으로 내가 보내고자 하는 목직지의 MAC주소

**✨Source Address** 6바이트로 출발지 MAC주소

![image](https://user-images.githubusercontent.com/70757883/126795543-c0f15489-f8cd-44b4-af03-fdeac4d92323.png)

출발지가 A, 도착지가 B인 경우 서로의 MAC주소가 이런 식으로 구성된다.



**✨Ethernet Type**은 DATA가 상위 계층에서 인캡슐레이션 되어 내려왔을 텐데, 이때 이 안에 3계층의 프로토콜이 어떤 것이 있는지(IPv4 or ARP 등) 미리 알려주는 역할을 한다.

전기적 신호로 전달이 될 때, 미리 3계층 프로토콜이 뭔지 알려주어야 효율적으로 인캡슐레이션된 DATA를 열 수 있다.

즉, 이더넷 타입이 상위 프로토콜이 무엇인지 알려주는 역할을 수행한다.

만일 상위 프로토콜이 IPv4이면 Ethernet Type에 0 8 0 0이,

만일 상위 프로토콜이 ARP이면 Ethernet Type에 0 8 0 6이.



예를 들어서,

e8 03 9a 68 c0 23 e8 11 32 33 01 c9 08 00

이렇게 있으면 

e8 03 9a 68 c0 23 까지가 목적지 주소

e8 11 32 33 01 c9 까지가 출발지의 주소

08 00 이 IPv4임을 알려주는 Ethernet Type이 되는 셈이다.